{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 70, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/abhig/Downloads/zip-explorer1/app/api/save-zip/load/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from \"next/server\"\r\nimport JSZip from \"jszip\"\r\n\r\nexport async function POST(req: NextRequest) {\r\n  try {\r\n    const { url } = await req.json()\r\n    if (!url) {\r\n      return NextResponse.json({ error: \"Missing URL\" }, { status: 400 })\r\n    }\r\n\r\n    // Fetch ZIP from Blob Storage\r\n    const blobResponse = await fetch(url)\r\n    const blob = await blobResponse.arrayBuffer()\r\n\r\n    const zip = await JSZip.loadAsync(blob)\r\n\r\n    const extractedFiles: {\r\n      path: string\r\n      content: string\r\n    }[] = []\r\n\r\n    const entries = Object.keys(zip.files)\r\n\r\n    for (const filePath of entries) {\r\n      const file = zip.files[filePath]\r\n\r\n      if (!file.dir) {\r\n        const content = await file.async(\"text\")\r\n        extractedFiles.push({\r\n          path: filePath,\r\n          content,\r\n        })\r\n      }\r\n    }\r\n\r\n    return NextResponse.json({\r\n      success: true,\r\n      files: extractedFiles,\r\n    })\r\n  } catch (err) {\r\n    console.error(\"Load saved ZIP error:\", err)\r\n    return NextResponse.json({ error: \"Failed to load ZIP\" }, { status: 500 })\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,eAAe,KAAK,GAAgB;IACzC,IAAI;QACF,MAAM,EAAE,GAAG,EAAE,GAAG,MAAM,IAAI,IAAI;QAC9B,IAAI,CAAC,KAAK;YACR,OAAO,gJAAY,CAAC,IAAI,CAAC;gBAAE,OAAO;YAAc,GAAG;gBAAE,QAAQ;YAAI;QACnE;QAEA,8BAA8B;QAC9B,MAAM,eAAe,MAAM,MAAM;QACjC,MAAM,OAAO,MAAM,aAAa,WAAW;QAE3C,MAAM,MAAM,MAAM,kJAAK,CAAC,SAAS,CAAC;QAElC,MAAM,iBAGA,EAAE;QAER,MAAM,UAAU,OAAO,IAAI,CAAC,IAAI,KAAK;QAErC,KAAK,MAAM,YAAY,QAAS;YAC9B,MAAM,OAAO,IAAI,KAAK,CAAC,SAAS;YAEhC,IAAI,CAAC,KAAK,GAAG,EAAE;gBACb,MAAM,UAAU,MAAM,KAAK,KAAK,CAAC;gBACjC,eAAe,IAAI,CAAC;oBAClB,MAAM;oBACN;gBACF;YACF;QACF;QAEA,OAAO,gJAAY,CAAC,IAAI,CAAC;YACvB,SAAS;YACT,OAAO;QACT;IACF,EAAE,OAAO,KAAK;QACZ,QAAQ,KAAK,CAAC,yBAAyB;QACvC,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,OAAO;QAAqB,GAAG;YAAE,QAAQ;QAAI;IAC1E;AACF"}}]
}